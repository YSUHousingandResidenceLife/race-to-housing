<script>
  // 1) Init map
  const map = L.map('map').setView([41.1040, -80.6470], 16);

  // 2) Softer illustrated basemap (Carto Voyager)
  L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
    attribution: '&copy; OpenStreetMap &copy; CARTO',
    subdomains: 'abcd',
    maxZoom: 20
  }).addTo(map);

  // 3) Icons
  const houseIcon = L.icon({
    iconUrl: 'https://cdn-icons-png.flaticon.com/512/69/69524.png',
    iconSize: [28,28], iconAnchor:[14,28], popupAnchor:[0,-28]
  });
  const diningIcon = L.icon({
    iconUrl: 'https://cdn-icons-png.flaticon.com/512/857/857681.png',
    iconSize: [26,26], iconAnchor:[13,26], popupAnchor:[0,-26]
  });

  // 4) Stops
  const STOPS = [
    { id:'lyden',     name:'Lyden House',      lat:41.1069, lng:-80.6462, icon:houseIcon,  cat:'Housing' },
    { id:'cafaro',    name:'Cafaro House',     lat:41.1061, lng:-80.6466, icon:houseIcon,  cat:'Housing' },
    { id:'christman', name:'Christman Dining', lat:41.1050, lng:-80.6425, icon:diningIcon, cat:'Meal'    },
    { id:'weller',    name:'Weller House',     lat:41.1018, lng:-80.6467, icon:houseIcon,  cat:'Housing' },
    { id:'wick',      name:'Wick House',       lat:41.1015, lng:-80.6469, icon:houseIcon,  cat:'Housing' },
    { id:'kilcawley', name:'Kilcawley House',  lat:41.1053, lng:-80.6518, icon:houseIcon,  cat:'Housing' }
  ];
  const ROUTE = ['lyden','cafaro','christman','weller','wick','kilcawley'];

  // 5) Markers
  const byId = Object.fromEntries(STOPS.map(s => [s.id, s]));
  const bounds = L.latLngBounds();
  STOPS.forEach(s => {
    const m = L.marker([s.lat, s.lng], { icon: s.icon, title: s.name }).addTo(map);
    m.bindPopup(`<b>${s.name}</b><br>${s.cat}`);
    bounds.extend([s.lat, s.lng]);
  });

  // 6) Route with trail style
  const path = ROUTE.map(id => byId[id]).filter(Boolean).map(s => [s.lat, s.lng]);

  // green base
  L.polyline(path, { color:'#00cc44', weight:8, opacity:0.9 }).addTo(map);
  // dashed black overlay in the center
  L.polyline(path, {
    color:'#000000', weight:2, opacity:1,
    dashArray:'6, 8' // pattern: 6px dash, 8px gap
  }).addTo(map);

  // 7) Fit map to route
  map.fitBounds(bounds, { maxZoom:17 });
</script>
