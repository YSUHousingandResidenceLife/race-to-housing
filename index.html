<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Race to Housing – Map Styles</title>

  <!-- Leaflet (free / no key) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <style>
    html,body { margin:0; height:100%; font-family: system-ui, Arial, sans-serif; }
    #map { width:100%; height:420px; }
    .page { max-width:900px; margin:auto; padding:16px; }
  </style>
</head>
<body>
  <div id="map"></div>

  <div class="page">
    <h1>Race to Housing</h1>
    <p>Use the layer switcher (top-right) to try different map styles. “Esri World Topo” is the most
      illustrated/campus-like; “Carto Positron” is a clean light gray style; “OSM Standard” is the default.</p>
  </div>

  <script>
    // --- 1) Base map (start near YSU)
    const map = L.map('map', { center:[41.1040, -80.6470], zoom:15 });

    // --- 2) Basemap choices (no keys required)
    const osmStandard = L.tileLayer(
      'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
      { maxZoom: 19, attribution: '&copy; OpenStreetMap contributors' }
    );

    const cartoPositron = L.tileLayer(
      'https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png',
      { maxZoom: 20, attribution: '&copy; OpenStreetMap &copy; CARTO' }
    );

    const cartoVoyager = L.tileLayer(
      'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png',
      { maxZoom: 20, attribution: '&copy; OpenStreetMap &copy; CARTO' }
    );

    // Esri World Topo (soft, illustrated feel)
    const esriWorldTopo = L.tileLayer(
      'https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}',
      {
        maxZoom: 20,
        attribution: 'Tiles &copy; Esri — Esri, USGS, NOAA, HERE, Garmin, FAO, METI/NASA, & others'
      }
    );

    // Set default layer (pick the one you like most)
    esriWorldTopo.addTo(map);

    // --- 3) Layer switcher UI
    const baseMaps = {
      "Esri World Topo (illustrated)": esriWorldTopo,
      "Carto Positron (clean light)": cartoPositron,
      "Carto Voyager (colorful)": cartoVoyager,
      "OSM Standard": osmStandard
    };
    L.control.layers(baseMaps, null, { position: 'topright', collapsed: false }).addTo(map);

    // --- 4) Icons (house for halls, fork/knife for dining)
    const houseIcon = L.icon({
      iconUrl: 'https://cdn-icons-png.flaticon.com/512/69/69524.png',
      iconSize: [28, 28], iconAnchor: [14, 28], popupAnchor: [0, -28]
    });
    const diningIcon = L.icon({
      iconUrl: 'https://cdn-icons-png.flaticon.com/512/857/857681.png',
      iconSize: [26, 26], iconAnchor: [13, 26], popupAnchor: [0, -26]
    });

    // --- 5) Stops (you can edit these quickly)
    const STOPS = [
      { id:'lyden',     name:'Lyden House',      lat:41.1069, lng:-80.6462, icon:houseIcon,  cat:'Housing' },
      { id:'cafaro',    name:'Cafaro House',     lat:41.1061, lng:-80.6466, icon:houseIcon,  cat:'Housing' },
      { id:'christman', name:'Christman Dining', lat:41.1050, lng:-80.6425, icon:diningIcon, cat:'Meal'    },
      { id:'weller',    name:'Weller House',     lat:41.1018, lng:-80.6467, icon:houseIcon,  cat:'Housing' },
      { id:'wick',      name:'Wick House',       lat:41.1015, lng:-80.6469, icon:houseIcon,  cat:'Housing' },
      { id:'kilcawley', name:'Kilcawley House',  lat:41.1053, lng:-80.6518, icon:houseIcon,  cat:'Housing' }
    ];
    const ROUTE = ['lyden','cafaro','christman','weller','wick','kilcawley'];

    // --- 6) Markers
    const byId = Object.fromEntries(STOPS.map(s => [s.id, s]));
    const bounds = L.latLngBounds();
    STOPS.forEach(s => {
      const m = L.marker([s.lat, s.lng], { icon: s.icon, title: s.name }).addTo(map);
      m.bindPopup(`<b>${s.name}</b><br>${s.cat}`);
      bounds.extend([s.lat, s.lng]);
    });

    // --- 7) Route (dark outline + bright green center)
    const path = ROUTE.map(id => byId[id]).filter(Boolean).map(s => [s.lat, s.lng]);
    L.polyline(path, { color:'#004400', weight:10, opacity:0.9 }).addTo(map);
    L.polyline(path, { color:'#00cc44', weight:6,  opacity:1.0 }).addTo(map);

    map.fitBounds(bounds, { maxZoom: 17 });
  </script>
</body>
</html>
